(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,a,t){e.exports=t.p+"static/media/logo.5aa1d951.svg"},61:function(e,a,t){e.exports=t(98)},97:function(e,a,t){},98:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(24),i=t.n(o),l=t(8),s=t(9),c=t(11),u=t(10),m=t(12),d=t(105),h=t(100),p=t(41),g=t.n(p),f=t(13),k=t.n(f),v=t(26),y=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleLogout=function(e){e.preventDefault(),k.a.remove("username"),k.a.remove("token"),t.setState({wantLogOut:!0})},t.state={wantLogOut:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return this.state.wantLogOut?r.a.createElement(v.a,{to:"/"}):this.props.isAuth?r.a.createElement(d.a,{expand:"lg",fixed:"top"},r.a.createElement(d.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",src:g.a,width:"30",height:"30",className:"d-inline-block align-top"}),"Nim Finder"),r.a.createElement(d.a.Toggle,{id:"navbarButton"}),r.a.createElement(d.a.Collapse,{className:"justify-content-end"},r.a.createElement(d.a.Text,{style:{marginRight:"15px",color:"black"}},this.props.username),r.a.createElement(h.a,{variant:"secondary",onClick:this.handleLogout},"Logout"))):r.a.createElement(d.a,{expand:"lg",fixed:"top"},r.a.createElement(d.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",src:g.a,width:"30",height:"30",className:"d-inline-block align-top"}),"Nim Finder"))}}]),a}(n.Component),E=t(101),b=t(106),T=t(104),S=t(102),w=t(23),j=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"d-flex justify-content-center align-items-center formContainer",style:this.props.style},r.a.createElement(E.a,{id:"whatsWrong",style:{maxWidth:"500px",position:"fixed",top:"50px",zIndex:1,fontSize:"0.75em"}}),r.a.createElement(b.a,null,r.a.createElement(b.a.Header,{as:"h1"},this.props.typeform.toUpperCase()),r.a.createElement(T.a,{style:{padding:20},onSubmit:this.props.handleSubmit},r.a.createElement(T.a.Group,{controlId:"formBasicUsername"},r.a.createElement(T.a.Label,null,"Username"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Enter username",onChange:this.props.usernameChange})),r.a.createElement(T.a.Group,{controlId:"formBasicPassword"},r.a.createElement(T.a.Label,null,"Password"),r.a.createElement(T.a.Control,{type:"password",placeholder:"Enter password",onChange:this.props.passwordChange})),r.a.createElement(h.a,{variant:"secondary",type:"submit"},this.props.loading?r.a.createElement(S.a,{animation:"border",variant:"light",size:"sm"}):this.props.typeform)),r.a.createElement(E.a,{style:{textAlign:"center",paddingBottom:"10px"}},r.a.createElement(w.b,{className:"nav-link",to:this.props.goTo,style:{fontSize:"0.75em"}},this.props.children))))}}]),a}(n.Component),O=t(107),x=t(21),C=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).usernameChange=function(e){e.preventDefault(),t.setState({username:e.target.value})},t.passwordChange=function(e){e.preventDefault(),t.setState({password:e.target.value})},t.handleLogin=function(e){e.preventDefault();var a=new URLSearchParams;a.append("username",t.state.username),a.append("password",t.state.password);var n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString(),json:!0};fetch("https://api.stya.net/nim/login",n).then(function(e){return e.json()}).then(function(e){0!==e.code?(i.a.render(r.a.createElement(x.Spring,{from:{opacity:1},to:{opacity:0},key:Math.random(),config:{delay:3e3}},function(a){return r.a.createElement("div",{style:a},r.a.createElement(O.a,{variant:"danger",style:{boxShadow:"0px 0px 5px #888888"}},e.status))}),document.getElementById("whatsWrong")),t.setState({loading:!1})):(k.a.save("username",t.state.username),k.a.save("token",e.token),t.setState({isAuth:!0,loading:!1}))}),t.setState({loading:!0})},t.state={username:"",password:"",isAuth:!1,loading:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this;return void 0!==k.a.load("token")?r.a.createElement(v.a,{to:"/home"}):this.state.isAuth?r.a.createElement(v.a,{to:"/home"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{isAuth:!1}),r.a.createElement(x.Spring,{from:{opacity:0,paddingBottom:"500px",height:"100vh",flexDirection:"column"},to:{opacity:1,paddingBottom:"0px",height:"100vh",flexDirection:"column"},config:x.config.molasses},function(a){return r.a.createElement(j,{loading:e.state.loading,typeform:"Login",handleSubmit:e.handleLogin,usernameChange:e.usernameChange,passwordChange:e.passwordChange,goTo:"/register",style:a},"Don't have account? Register")}))}}]),a}(n.Component),P=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).usernameChange=function(e){e.preventDefault(),t.setState({username:e.target.value})},t.passwordChange=function(e){e.preventDefault(),t.setState({password:e.target.value})},t.handleRegister=function(e){e.preventDefault();var a=new URLSearchParams;a.append("username",t.state.username),a.append("password",t.state.password);var n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString(),json:!0};fetch("https://api.stya.net/nim/register",n).then(function(e){return e.json()}).then(function(e){0!==e.code?(i.a.render(r.a.createElement(x.Spring,{from:{opacity:1},to:{opacity:0},key:Math.random(),config:{delay:3e3}},function(a){return r.a.createElement("div",{style:a},r.a.createElement(O.a,{variant:"danger",style:{boxShadow:"0px 0px 5px #888888"}},e.status))}),document.getElementById("whatsWrong")),t.setState({loading:!1})):t.setState({isRegister:!0,loading:!1})}),t.setState({loading:!0})},t.state={username:"",password:"",isRegister:!1,loading:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this;return void 0!==k.a.load("token")?r.a.createElement(v.a,{to:"/home"}):this.state.isRegister?r.a.createElement(v.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{isAuth:!1}),r.a.createElement(x.Spring,{from:{opacity:0,paddingBottom:"500px",height:"100vh",flexDirection:"column"},to:{opacity:1,paddingBottom:"0px",height:"100vh",flexDirection:"column"},config:x.config.molasses},function(a){return r.a.createElement(j,{loading:e.state.loading,typeform:"Register",handleSubmit:e.handleRegister,usernameChange:e.usernameChange,passwordChange:e.passwordChange,goTo:"/",style:a},"Have an account? Login")}))}}]),a}(n.Component),F=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"d-flex justify-content-center align-items-center",style:{height:"100vh",flexDirection:"column"}},r.a.createElement("h1",{style:{fontSize:"10em"}},this.props.code),r.a.createElement("h4",{style:{fontSize:"2em"}},this.props.message))}}]),a}(n.Component),B=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(F,{code:"401",message:"Unauthorized"})}}]),a}(n.Component),I=t(59),M=t(103),D=t(55),A=(t(94),t(57)),R=t(58),L=t(45),N=new Map([["160","FMIPA"],["161","SITH-S"],["198","SITH-R"],["162","SF"],["163","FITB"],["164","FTTM"],["165","STEI"],["166","FTSL"],["167","FTI"],["168","FSRD"],["169","FTMD"],["190","SBM"],["199","SAPPK"]]),K=new Map;K.set("160",["Matematika","Fisika","Astronomi","Kimia","Aktuaria","Tahap Tahun Pertama FMIPA"]),K.set("161",["Biologi","Mikrobiologi","Tahap Tahun Pertama SITH-S"]),K.set("198",["Rekayasa Hayati","Rekayasa Pertanian","Rekayasa Kehutanan","Teknologi Pasca Panen","Tahap Tahun Pertama SITH-R"]),K.set("162",["Sains dan Teknologi Farmasi","Farmasi Klinik dan Komunitas","Tahap Tahun Pertama SF"]),K.set("163",["Teknik Geologi","Teknik Geodesi dan Geomatika","Meteorologi","Oseanografi","Tahap Tahun Pertama FITB"]),K.set("164",["Teknik Pertambangan","Teknik Perminyakan","Teknik Geofisika","Teknik Metalurgi","Tahap Tahun Pertama FTTM"]),K.set("165",["Teknik Elektro","Teknik Informatika","Teknik Tenaga Listrik","Teknik Telekomunikasi","Sistem dan Teknologi Informasi","Teknik Biomedis","Tahap Tahun Pertama STEI"]),K.set("166",["Teknik Sipil","Teknik Lingkungan","Teknik Kelautan","Teknik dan Pengelolaan Sumber Daya Air","Rekayasa Infrastruktur Lingkungan","Tahap Tahun Pertama FTSL"]),K.set("167",["Teknik Pangan","Teknik Bioenergi dan Kemurgi","Teknik Fisika","Teknik Kimia","Teknik Industri","Manajemen Rekayasa Industri","Tahap Tahun Pertama FTI"]),K.set("168",["Seni Rupa","Kriya","Desain Interior","Desain Komunikasi Visual","Desain Produk","Tahap Tahun Pertama FSRD"]),K.set("169",["Teknik Mesin","Aeronautika dan Astronotika","Teknik Material","Tahap Tahun Pertama FTMD"]),K.set("190",["Manajemen","Kewirausahaan","Tahap Tahun Pertama SBM"]),K.set("199",["Arsitektur","Perencanaan Wilayah dan Kota","Tahap Tahun Pertama SAPPK"]);var H=function(e){var a=!0,t=!1,n=void 0;try{for(var r,o=K[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var i=r.value,l=Object(L.a)(i,2),s=l[0];if(l[1].includes(e))return N.get(s)}}catch(c){t=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(t)throw n}}return"None"},W=t(15),z=t.n(W),G=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).searchChange=function(e){e.preventDefault(),t.setState({search:e.target.value})},t.enterSearch=function(e){13===e.keyCode&&document.getElementById("searchButton").click()},t.handleSearch=function(e){e.preventDefault();var a={method:"GET",headers:{"Auth-Token":k.a.load("token")}};t.state.search.match(/\d+/g)?fetch("https://api.stya.net/nim/byid?query=".concat(t.state.search,"&count=2000"),a).then(function(e){return e.json()}).then(function(e){-2===e.code?(k.a.remove("token"),k.a.remove("username"),t.setState({tokenValid:!1})):t.setState({data:e.payload,firstSearch:!1})}):(fetch("https://api.stya.net/nim/byname?name=".concat(t.state.search,"&count=2000"),a).then(function(e){return e.json()}).then(function(e){-2===e.code?(k.a.remove("token"),k.a.remove("username"),t.setState({tokenValid:!1})):t.setState({data:e.payload,firstSearch:!1,loading:!1})}),t.setState({loading:!0}))},t.state={data:[],search:"",firstSearch:!0,tokenValid:!0,loading:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this,a=[{Header:"Name",accessor:"name",filterable:!1,headerStyle:{background:"#274060",color:"white"}},{Header:"NIM TPB",accessor:"nim_tpb",filterable:!1,minWidth:40,headerStyle:{background:"#274060",color:"white"}},{Header:"NIM Jurusan",accessor:"nim_jur",minWidth:40,headerStyle:{background:"#274060",color:"white"},filterMethod:function(e,a){return"all"===e.value||a[e.id].substring(3,5)===e.value},Filter:function(e){var a=e.filter,t=e.onChange;return r.a.createElement("select",{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:"all",id:"angkatan"},r.a.createElement("option",{value:"all"},"Show All"),r.a.createElement("option",{value:"18"},"2018"),r.a.createElement("option",{value:"17"},"2017"),r.a.createElement("option",{value:"16"},"2016"),r.a.createElement("option",{value:"15"},"2015"),r.a.createElement("option",{value:"14"},"2014"),r.a.createElement("option",{value:"13"},"2013"))}},{Header:"Fakultas",accessor:"prodi",id:"fakultas",Cell:function(e){var a=e.value;return H(a)},minWidth:50,headerStyle:{background:"#274060",color:"white"},filterMethod:function(e,a){return"all"===e.value||H(a[e.id])===e.value},sortMethod:function(e,a,t){return H(e)>H(a)?1:H(e)<H(a)?-1:0},Filter:function(e){var a=e.filter,t=e.onChange;return r.a.createElement("select",{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:"all",id:"fakultasSelect"},r.a.createElement("option",{value:"all"},"Show All"),function(){var e=[];return N.forEach(function(a,t,n){return e.push({nama:a,kode:t})}),e}().map(function(e){return r.a.createElement("option",{value:e.nama,key:e.kode},e.nama)}))}},{Header:"Program Studi",accessor:"prodi",id:"programstudi",headerStyle:{background:"#274060",color:"white"},filterMethod:function(e,a){return"all"===e.value||a[e.id]===e.value},Filter:function(e){var a=e.filter,t=e.onChange;return r.a.createElement("select",{onChange:function(e){return t(e.target.value)},style:{width:"100%"},value:a?a.value:"all",id:"prodiSelect"},r.a.createElement("option",{value:"all"},"Show All"),void 0!==z()("#fakultasSelect").val()&&"all"!==z()("#fakultasSelect").val()&&function(e){var a=!0,t=!1,n=void 0;try{for(var r,o=N[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var i=r.value,l=Object(L.a)(i,2),s=l[0];if(l[1]===e)return K.get(s)}}catch(c){t=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(t)throw n}}}(z()("#fakultasSelect").val()).map(function(e){return r.a.createElement("option",{value:e,key:e},e)}))}}];return void 0===k.a.load("token")?r.a.createElement(B,null):this.state.tokenValid?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{isAuth:!0,username:this.props.username}),r.a.createElement(E.a,{style:{height:"100vh",paddingTop:this.state.firstSearch?"200px":"80px",transition:"padding 0.5s"}},r.a.createElement(x.Spring,{from:{paddingTop:"200px",maxWidth:"800px"},to:{paddingTop:"0px",maxWidth:"800px"},config:x.config.molasses},function(a){return r.a.createElement(E.a,{style:a},r.a.createElement(M.a,{style:{marginBottom:"20px"}},r.a.createElement(D.a,{placeholder:"Enter NIM or name",type:"text",onChange:e.searchChange,onKeyDown:e.enterSearch,id:"searchBox",autoComplete:"off"}),r.a.createElement(M.a.Append,null,r.a.createElement(h.a,{id:"searchButton",type:"submit",variant:"secondary",onClick:e.handleSearch},e.state.loading?r.a.createElement(S.a,{animation:"border",variant:"light",size:"sm"}):r.a.createElement(A.a,{icon:R.a})))))}),r.a.createElement(E.a,{style:{paddingBottom:"50px"}},!this.state.firstSearch&&r.a.createElement(I.a,{className:"-highlight  -striped",style:{background:"white"},data:this.state.data,columns:a,filterable:!0,defaultPageSize:10,loading:this.state.loading})))):r.a.createElement(v.a,{to:"/"})}}]),a}(n.Component),U=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(F,{code:"404",message:"Page Not Found"})}}]),a}(n.Component);t(97);z()(document).ready(function(){z()(window).scroll(function(){z()(this).scrollTop()>50?z()(".navbar").addClass("solid"):z()(".navbar").removeClass("solid")}),z()("#navbarButton").on("click",function(){z()(".navbar").hasClass("solid")&&z()(window).scrollTop()<=50?z()(".navbar").removeClass("solid"):z()(".navbar").addClass("solid")})});var V=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/",exact:!0,component:C}),r.a.createElement(v.b,{path:"/register",component:P}),r.a.createElement(v.b,{path:"/home",render:function(){return r.a.createElement(G,{username:k.a.load("username")})}}),r.a.createElement(v.b,{component:U}))}}]),a}(n.Component);i.a.render(r.a.createElement(w.a,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.111a3b2a.chunk.js.map